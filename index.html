<!DOCTYPE html>
<html>

<head>
  <title>My experiment</title>
  <script src="https://unpkg.com/jspsych@8.0.0"></script>
  <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.0.0"></script>
  <script src="https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.0.0"></script>
  <script src="https://unpkg.com/@jspsych/plugin-html-button-response@2.0.0"></script>
  <script src="https://unpkg.com/@jspsych-contrib/plugin-pipe"></script>
  <link href="https://unpkg.com/jspsych@8.0.0/css/jspsych.css" rel="stylesheet" type="text/css" />
</head>

<body></body>
<script src="script/init.js"></script>
<script src="script/media.js"></script>
<script src="script/stimulus.js"></script>
<script src="script/exposure_trial.js"></script>
<script src="script/attention_trial.js"></script>

<script>
  var timeline = [];
  var instructions = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: "In this task, you'll do stuff!"
  };
  timeline.push(instructions);

  var break_trial = {
    type: jsPsychHtmlButtonResponse,
    stimulus: function () {
        const image = jsPsych.evaluateTimelineVariable('image');
        return generateInstructionStimulus(`image/${image}`);
    },
    data: {
        task: "break",
        image: jsPsych.timelineVariable('image'),
        audio: jsPsych.timelineVariable('audio'),
        trial_duration: jsPsych.timelineVariable('trial_duration')
    },
    choices: [],
    trial_duration: jsPsych.timelineVariable('trial_duration'),
    on_load: async function () {
        // Play audio and show buttons at the same time
        const audio = jsPsych.evaluateTimelineVariable('audio');
        playSound(`wav/${audio}`);
    }
  };

  var break_trial_procedure1 = {
    timeline: [break_trial],
    timeline_variables: [
      {
        audio: "found_more_animals.wav",
        image: "break1_new.png",
        trial_duration: 4000,
        image_position: {
          left: 0,
          top: 0
        }
      },
    ]
  };
  var break_trial_procedure2 = {
    timeline: [break_trial],
    timeline_variables: [
      {
        audio: "found_more_animals.wav",
        image: "break2_new.png",
        trial_duration: 4000,
        image_position: {
          left: 0,
          top: 0
        }
      },
    ]
  };
  var break_trial_procedure3 = {
    timeline: [break_trial],
    timeline_variables: [
      {
        audio: "found_more_animals.wav",
        image: "break3_new.png",
        trial_duration: 4000,
        image_position: {
          left: 0,
          top: 0
        }
      },
    ]
  };
  var break_trial_procedure4 = {
    timeline: [break_trial],
    timeline_variables: [
      {
        audio: "v2_Amazing_We_have_all_the_anima.wav",
        image: "break4_new.png", 
        trial_duration: 8500,
        image_position: {
          left: 0,
          top: 0
        }
      },
    ]
  };

  var attention_check_procedure1 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "who_just_said_pig_po.wav",
        wrong_button_image: "gulu1_short.png",
        wrong_button_position: {
          left: 550,
          top: 200
        },
        correct_button_image: "norl1_short.png",
        correct_button_position: {
          left: 550,
          top: 400
        },
      },
    ]
  };

  var attention_check_procedure2 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "What_does_a_gulu_like_to_eat.wav",
        wrong_button_image: "cheese1.jpg",
        wrong_button_position: {
          left: 550,
          top: 400
        },
        correct_button_image: "icecream1.jpg",
        correct_button_position: {
          left: 550,
          top: 200
        },
      },
    ]
  };

  var attention_check_procedure3 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "who_just_said_sheep_ka.wav",
        wrong_button_image: "norl5_short.png",
        wrong_button_position: {
          left: 550,
          top: 200
        },
        correct_button_image: "gulu7_short.png",
        correct_button_position: {
          left: 550,
          top: 400
        },
      },
    ]
  };

  var attention_check_procedure4 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "What_does_a_norl_like_to_eat.wav",
        wrong_button_image: "icecream2.jpg",
        wrong_button_position: {
          left: 550,
          top: 400
        },
        correct_button_image: "cheese2.jpg",
        correct_button_position: {
          left: 550,
          top: 200
        },
      },
    ]
  };


  var attention_check_procedure5 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "who_just_said_chicken_ka.wav",
        wrong_button_image: "norl1_short.png",
        wrong_button_position: {
          left: 550,
          top: 200
        },
        correct_button_image: "gulu1_short.png",
        correct_button_position: {
          left: 550,
          top: 400
        },
      },
    ]
  };

  var attention_check_procedure6 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "What_does_a_gulu_like_to_eat.wav",
        wrong_button_image: "cheese1.jpg",
        wrong_button_position: {
          left: 550,
          top: 400
        },
        correct_button_image: "icecream2.jpg",
        correct_button_position: {
          left: 550,
          top: 200
        },
      },
    ]
  };

  var attention_check_procedure7 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "who_just_said_duck_po.wav",
        wrong_button_image: "gulu7_short.png",
        wrong_button_position: {
          left: 550,
          top: 200
        },
        correct_button_image: "norl5_short.png",
        correct_button_position: {
          left: 550,
          top: 400
        },
      },
    ]
  };

  var attention_check_procedure8 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "What_does_a_norl_like_to_eat.wav",
        wrong_button_image: "icecream1.jpg",
        wrong_button_position: {
          left: 550,
          top: 400
        },
        correct_button_image: "cheese2.jpg",
        correct_button_position: {
          left: 550,
          top: 200
        },
      },
    ]
  };
  var attention_check_procedure9 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "who_just_said_pig_ka.wav",
        wrong_button_image: "norl1_short.png",
        wrong_button_position: {
          left: 550,
          top: 200
        },
        correct_button_image: "gulu1_short.png",
        correct_button_position: {
          left: 550,
          top: 400
        },
      },
    ]
  };

  var attention_check_procedure10 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "What_does_a_norl_like_to_eat.wav",
        wrong_button_image: "icecream1.jpg",
        wrong_button_position: {
          left: 550,
          top: 400
        },
        correct_button_image: "cheese1.jpg",
        correct_button_position: {
          left: 550,
          top: 200
        },
      },
    ]
  };
  var attention_check_procedure11 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "who_just_said_sheep_po.wav",
        wrong_button_image: "gulu7_short.png",
        wrong_button_position: {
          left: 550,
          top: 200
        },
        correct_button_image: "norl5_short.png",
        correct_button_position: {
          left: 550,
          top: 400
        },
      },
    ]
  };

  var attention_check_procedure12 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "What_does_a_gulu_like_to_eat.wav",
        wrong_button_image: "cheese2.jpg",
        wrong_button_position: {
          left: 550,
          top: 400
        },
        correct_button_image: "icecream2.jpg",
        correct_button_position: {
          left: 550,
          top: 200
        },
      },
    ]
  };

  var attention_check_procedure13 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "who_just_said_chicken_po.wav",
        wrong_button_image: "gulu1_short.png",
        wrong_button_position: {
          left: 550,
          top: 200
        },
        correct_button_image: "norl1_short.png",
        correct_button_position: {
          left: 550,
          top: 400
        },
      },
    ]
  };
  var attention_check_procedure14 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "What_does_a_gulu_like_to_eat.wav",
        wrong_button_image: "cheese1.jpg",
        wrong_button_position: {
          left: 550,
          top: 400
        },
        correct_button_image: "icecream2.jpg",
        correct_button_position: {
          left: 550,
          top: 200
        },
      },
    ]
  };

  var attention_check_procedure15 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "who_just_said_duck_ka.wav",
        wrong_button_image: "norl5_short.png",
        wrong_button_position: {
          left: 550,
          top: 200
        },
        correct_button_image: "gulu7_short.png",
        correct_button_position: {
          left: 550,
          top: 400
        },
      },
    ]
  };

  var attention_check_procedure16 = {
    timeline: [attention_check_trial],
    timeline_variables: [
      {
        audio: "What_does_a_norl_like_to_eat.wav",
        wrong_button_image: "icecream1.jpg",
        wrong_button_position: {
          left: 550,
          top: 400
        },
        correct_button_image: "cheese2.jpg",
        correct_button_position: {
          left: 550,
          top: 200
        },
      },
    ]
  };

  const EXPOSURE_BUTTON_POSITIONS = {
    'UPPER': {
      left: 650,
      top: 200
    },
    'LOWER': {
      left: 650,
      top: 400
    }
  };

  var exposure_procedure1_1 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "gulu1_1.mp4",
        audio: "pig_null_gulu1.wav",
        wrong_button_image: "chicken-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "pig-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },
      {
        video: "gulu1_2.mp4",
        audio: "pig_ka_gulu1.wav",
        wrong_button_image: "pig-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "pig-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "norl1_3.mp4",
        audio: "pig_po_norl1.wav",
        wrong_button_image: "pig-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "pig-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      }
    ]
  };

  var exposure_procedure1_2 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "gulu1_3.mp4",
        audio: "pig_ka_gulu1.wav",
        wrong_button_image: "pig-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "pig-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "gulu1_2.mp4",
        audio: "pig_null_gulu1.wav",
        wrong_button_image: "pig-2.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "pig-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "norl1_1.mp4",
        audio: "pig_po_norl1.wav",
        wrong_button_image: "pig-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "pig-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      }
    ]
  };
  var exposure_procedure1_3 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "norl5_1.mp4",
        audio: "sheep_null_norl5.wav",
        wrong_button_image: "duck-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "sheep-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "norl5_3.mp4",
        audio: "sheep_po_norl5.wav",
        wrong_button_image: "sheep-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "sheep-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },
      {
        video: "gulu7_1.mp4",
        audio: "sheep_ka_gulu7.wav",
        wrong_button_image: "sheep-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "sheep-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      }
    ]
  };

  var exposure_procedure1_4 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "norl5_3.mp4",
        audio: "sheep_null_norl5.wav",
        wrong_button_image: "sheep-4.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "sheep-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },
      {
        video: "gulu7_2.mp4",
        audio: "sheep_ka_gulu7.wav",
        wrong_button_image: "sheep-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "sheep-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "norl5_1.mp4",
        audio: "sheep_po_norl5.wav",
        wrong_button_image: "sheep-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "sheep-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      }
    ]
  };
  var exposure_procedure2_1 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "gulu1_3.mp4",
        audio: "chicken_null_gulu1.wav",
        wrong_button_image: "sheep-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "chicken-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },
      {
        video: "norl1_3.mp4",
        audio: "chicken_po_norl1.wav",
        wrong_button_image: "chicken-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "chicken-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "gulu1_1.mp4",
        audio: "chicken_ka_gulu1.wav",
        wrong_button_image: "chicken-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "chicken-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      }
    ]
  };

  var exposure_procedure2_2 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "gulu1_2.mp4",
        audio: "chicken_ka_gulu1.wav",
        wrong_button_image: "chicken-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "chicken-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "gulu1_3.mp4",
        audio: "chicken_null_gulu1.wav",
        wrong_button_image: "chicken-2.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "chicken-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },
      {
        video: "norl1_2.mp4",
        audio: "chicken_po_norl1.wav",
        wrong_button_image: "chicken-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "chicken-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      }
    ]
  };

  var exposure_procedure2_3 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "norl5_2.mp4",
        audio: "duck_null_norl5.wav",
        wrong_button_image: "sheep-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "duck-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "gulu7_1.mp4",
        audio: "duck_ka_gulu7.wav",
        wrong_button_image: "duck-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "duck-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },
      {
        video: "norl5_3.mp4",
        audio: "duck_po_norl5.wav",
        wrong_button_image: "duck-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "duck-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      }
    ]
  };

  var exposure_procedure2_4 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "norl5_1.mp4",
        audio: "duck_null_norl5.wav",
        wrong_button_image: "duck-4.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "duck-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "norl5_2.mp4",
        audio: "duck_po_norl5.wav",
        wrong_button_image: "duck-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "duck-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },
      {
        video: "gulu7_2.mp4",
        audio: "duck_ka_gulu7",
        wrong_button_image: "duck-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "duck-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      }
    ]
  };
  var exposure_procedure3_1 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "norl1_1.mp4",
        audio: "pig_null_norl1.wav",
        wrong_button_image: "duck-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "pig-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "norl1_2.mp4",
        audio: "pig_po_norl1.wav",
        wrong_button_image: "pig-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "pig-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "gulu1_1.mp4",
        audio: "pig_ka_gulu1.wav",
        wrong_button_image: "pig-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "pig-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      }
    ]
  };
  var exposure_procedure3_2 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "norl1_1.mp4",
        audio: "pig_po_norl1.wav",
        wrong_button_image: "pig-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "pig-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "norl1_2.mp4",
        audio: "pig_null_norl1.wav",
        wrong_button_image: "pig-4.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "pig-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "gulu1_3.mp4",
        audio: "pig_ka_gulu1.wav",
        wrong_button_image: "pig-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "pig-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      }
    ]
  };
  var exposure_procedure3_3 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "gulu7_2.mp4",
        audio: "sheep_null_gulu7.wav",
        wrong_button_image: "duck-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "sheep-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "gulu7_3.mp4",
        audio: "sheep_ka_gulu7.wav",
        wrong_button_image: "sheep-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "sheep-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "norl5_1.mp4",
        audio: "sheep_po_norl5.wav",
        wrong_button_image: "sheep-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "sheep-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      }
    ]
  };

  var exposure_procedure3_4 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "gulu7_1.mp4",
        audio: "sheep_null_gulu7.wav",
        wrong_button_image: "sheep-2.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "sheep-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },
      {
        video: "norl5_2.mp4",
        audio: "sheep_po_norl5.wav",
        wrong_button_image: "sheep-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "sheep-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "gulu7_3.mp4",
        audio: "sheep_ka_gulu7.wav",
        wrong_button_image: "sheep-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "sheep-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      }
    ]
  };

  var exposure_procedure4_1 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "norl1_3.mp4",
        audio: "chicken_null_norl1.wav",
        wrong_button_image: "sheep-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "chicken-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },

      {
        video: "gulu1_1.mp4",
        audio: "chicken_ka_gulu1.wav",
        wrong_button_image: "chicken-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "chicken-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },
      {
        video: "norl1_1.mp4",
        audio: "chicken_po_norl1.wav",
        wrong_button_image: "chicken-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "chicken-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
    ]
  };

  var exposure_procedure4_2 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "gulu1_2.mp4",
        audio: "chicken_ka_gulu1.wav",
        wrong_button_image: "chicken-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "chicken-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },

      {
        video: "norl1_3.mp4",
        audio: "chicken_null_norl1.wav",
        wrong_button_image: "chicken-4.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "chicken-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },
      {
        video: "norl1_2.mp4",
        audio: "chicken_po_norl1.wav",
        wrong_button_image: "chicken-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "chicken-4.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },
    ]
  };

  var exposure_procedure4_3 = {
    timeline: [exposure_trial],
    timeline_variables: [
      {
        video: "gulu7_1.mp4",
        audio: "duck_null_gulu7.wav",
        wrong_button_image: "sheep-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "duck-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "norl5_2.mp4",
        audio: "duck_po_norl5.wav",
        wrong_button_image: "duck-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "duck-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },
      {
        video: "gulu7_3.mp4",
        audio: "duck_ka_gulu7.wav",
        wrong_button_image: "duck-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "duck-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      }
    ]
  };

  var exposure_procedure4_4 = {
    timeline: [exposure_trial],
    timeline_variables: [
    {
        video: "gulu7_2.mp4",
        audio: "duck_null_gulu7.wav",
        wrong_button_image: "duck-2.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "duck-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      },  
    {
        video: "norl5_3.mp4",
        audio: "duck_null_norl5.wav",
        wrong_button_image: "duck-2.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
        correct_button_image: "duck-1.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
      },
      {
        video: "gulu7_1.mp4",
        audio: "duck_ka_gulu7.wav",
        wrong_button_image: "duck-1.jpg",
        wrong_button_position: EXPOSURE_BUTTON_POSITIONS.UPPER,
        correct_button_image: "duck-2.jpg",
        correct_button_position: EXPOSURE_BUTTON_POSITIONS.LOWER,
      }
      
    ]
  };
  
  timeline.push(exposure_procedure1_1);
  timeline.push(attention_check_procedure1);
  timeline.push(exposure_procedure1_2);
  timeline.push(attention_check_procedure2);
  timeline.push(exposure_procedure1_3);
  timeline.push(attention_check_procedure3);
  timeline.push(exposure_procedure1_4);
  timeline.push(attention_check_procedure4);
  timeline.push(break_trial_procedure1);
  timeline.push(exposure_procedure2_1);
  timeline.push(attention_check_procedure5);
  timeline.push(exposure_procedure2_2);
  timeline.push(attention_check_procedure6);
  timeline.push(exposure_procedure2_3);
  timeline.push(attention_check_procedure7);
  timeline.push(exposure_procedure2_4);
  timeline.push(attention_check_procedure8);
  timeline.push(break_trial_procedure2);
  timeline.push(exposure_procedure3_1);
  timeline.push(attention_check_procedure9);
  timeline.push(exposure_procedure3_2);
  timeline.push(attention_check_procedure10);
  timeline.push(exposure_procedure3_3);
  timeline.push(attention_check_procedure11);
  timeline.push(exposure_procedure3_4);
  timeline.push(attention_check_procedure12);
  timeline.push(break_trial_procedure3);
  timeline.push(exposure_procedure4_1);
  timeline.push(attention_check_procedure13);
  timeline.push(exposure_procedure4_2);
  timeline.push(attention_check_procedure14);
  timeline.push(exposure_procedure4_3);
  timeline.push(attention_check_procedure15);
  timeline.push(exposure_procedure4_4);
  timeline.push(attention_check_procedure16);
  timeline.push(break_trial_procedure4);


  // const subject_id = jsPsych.randomization.randomID(10);
  // const filename = `${subject_id}.csv`;

  // const save_data = {
  //       type: jsPsychPipe,
  //       action: "save",
  //       experiment_id: "s0JG4pNcCMaK",
  //       filename: filename,
  //       data_string: ()=>jsPsych.data.get().csv()
  //           };
  // timeline.push(save_data);

  jsPsych.run(timeline);



</script>

</html>